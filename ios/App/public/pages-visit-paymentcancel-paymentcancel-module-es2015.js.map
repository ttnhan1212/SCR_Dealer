{"version":3,"sources":["./src/app/pages/visit/paymentcancel/paymentcancel.page.html","./src/app/pages/visit/paymentcancel/paymentcancel-routing.module.ts","./src/app/pages/visit/paymentcancel/paymentcancel.module.ts","./src/app/pages/visit/paymentcancel/paymentcancel.page.scss","./src/app/pages/visit/paymentcancel/paymentcancel.page.ts"],"names":[],"mappings":"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","file":"pages-visit-paymentcancel-paymentcancel-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-back-button></ion-back-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title class=\\\"smllogo\\\">\\n\\t\\t\\t<app-logo></app-logo>\\n\\t\\t</ion-title>\\n\\t\\t<ion-button slot=\\\"end\\\" fill=\\\"clear\\\" [routerLink]=\\\"['/','home','deal']\\\">\\n\\t\\t\\t<ion-icon name=\\\"log-out-outline\\\"></ion-icon>\\n\\t\\t</ion-button>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-card>\\n\\t\\t<ion-card-content>\\n\\t\\t\\t<form [formGroup]=\\\"cancelForm\\\">\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_paymentcancel.visit_result' |\\n\\t\\t\\t\\t\\t\\ttranslate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-input\\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"{{'home_visit_result_paymentcancel.visit_result_place_holder' | translate}}\\\"\\n\\t\\t\\t\\t\\t\\treadonly\\n\\t\\t\\t\\t\\t></ion-input>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_paymentcancel.cacel_reason' |\\n\\t\\t\\t\\t\\t\\ttranslate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-textarea rows=\\\"5\\\" [formControl]=\\\"reason\\\"></ion-textarea>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ngx-dropzone (change)=\\\"onSelect($event)\\\">\\n\\t\\t\\t\\t\\t\\t<ngx-dropzone-label\\n\\t\\t\\t\\t\\t\\t\\t>{{'home_visit_result_paymentcancel.upload_instruction' |\\n\\t\\t\\t\\t\\t\\t\\ttranslate}}</ngx-dropzone-label\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ngx-dropzone-image-preview\\n\\t\\t\\t\\t\\t\\t\\tngProjectAs=\\\"ngx-dropzone-preview\\\"\\n\\t\\t\\t\\t\\t\\t\\t*ngFor=\\\"let f of files\\\"\\n\\t\\t\\t\\t\\t\\t\\t[file]=\\\"f\\\"\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t</ngx-dropzone-image-preview>\\n\\t\\t\\t\\t\\t</ngx-dropzone>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_paymentcancel.other' | translate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-textarea rows=\\\"5\\\" [formControl]=\\\"other\\\"></ion-textarea>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-button expand=\\\"block\\\" color=\\\"tertiary\\\" (click)=\\\"submitCancel()\\\"\\n\\t\\t\\t\\t\\t>{{'home_visit_result_paymentcancel.confirm' | translate}}</ion-button\\n\\t\\t\\t\\t>\\n\\t\\t\\t</form>\\n\\t\\t</ion-card-content>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentcancelPage } from './paymentcancel.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentcancelPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentcancelPageRoutingModule {}\n","import { ComponentsModule } from './../../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentcancelPageRoutingModule } from './paymentcancel-routing.module';\n\nimport { PaymentcancelPage } from './paymentcancel.page';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\n\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http);\n}\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tIonicModule,\n\t\tPaymentcancelPageRoutingModule,\n\t\tComponentsModule,\n\t\tNgxDropzoneModule,\n\t\tTranslateModule.forRoot({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t\tHttpClientModule,\n\t\tReactiveFormsModule,\n\t],\n\tdeclarations: [PaymentcancelPage],\n})\nexport class PaymentcancelPageModule {}\n","export default \".smllogo__img {\\n  height: 2.6rem;\\n}\\n\\ntextarea {\\n  height: 100px !important;\\n}\\n\\n.breadcrumb-item a {\\n  color: #3f80ff;\\n}\\n\\n.page-header {\\n  margin-top: 0.7rem;\\n}\\n\\n.mylabel {\\n  font-family: \\\"Noto Sans KR\\\";\\n  font-size: 14px;\\n}\\n\\n.mytimepicker {\\n  font-size: 14px;\\n}\\n\\nion-item {\\n  --inner-padding-end: 0px;\\n  --padding-start: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmlzaXQvcGF5bWVudGNhbmNlbC9wYXltZW50Y2FuY2VsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQztFQUNDLGNBQUE7QUFBRjs7QUFJQTtFQUNJLHdCQUFBO0FBREo7O0FBSUE7RUFDQyxjQUFBO0FBREQ7O0FBSUE7RUFDQyxrQkFBQTtBQUREOztBQUlBO0VBQ0MsMkJBQUE7RUFDQSxlQUFBO0FBREQ7O0FBSUE7RUFDQyxlQUFBO0FBREQ7O0FBSUE7RUFDQyx3QkFBQTtFQUNBLG9CQUFBO0FBREQiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy92aXNpdC9wYXltZW50Y2FuY2VsL3BheW1lbnRjYW5jZWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNtbGxvZ28ge1xuXHQmX19pbWcge1xuXHRcdGhlaWdodDogMi42cmVtO1xuXHR9XG59XG5cbnRleHRhcmVhIHtcbiAgICBoZWlnaHQ6IDEwMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5icmVhZGNydW1iLWl0ZW0gYSB7XG5cdGNvbG9yOiAjM2Y4MGZmO1xufVxuXG4ucGFnZS1oZWFkZXIge1xuXHRtYXJnaW4tdG9wOiAwLjdyZW07XG59XG5cbi5teWxhYmVsIHtcblx0Zm9udC1mYW1pbHk6ICdOb3RvIFNhbnMgS1InO1xuXHRmb250LXNpemU6IDE0cHg7XG59XG5cbi5teXRpbWVwaWNrZXIge1xuXHRmb250LXNpemU6IDE0cHg7XG59XG5cbmlvbi1pdGVtIHtcblx0LS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xuXHQtLXBhZGRpbmctc3RhcnQ6IDBweDtcbn1cblxuIl19 */\";","import { AngularFireAuth } from '@angular/fire/auth';\nimport { LoaderService } from './../../../services/loader.service';\nimport { DealsService } from './../../../services/deals.service';\nimport { ResultService } from './../../../services/result.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Component, OnInit } from '@angular/core';\nimport {\n\tFormGroup,\n\tFormControl,\n\tValidators,\n\tFormBuilder,\n} from '@angular/forms';\n\n@Component({\n\tselector: 'app-paymentcancel',\n\ttemplateUrl: './paymentcancel.page.html',\n\tstyleUrls: ['./paymentcancel.page.scss'],\n})\nexport class PaymentcancelPage implements OnInit {\n\tid: string;\n\tuserId: string;\n\tauthState: any = null;\n\n\tnow: string = new Date().toISOString();\n\tselectDate: Date;\n\n\tdate = Math.floor(new Date().getTime() / 1000.0);\n\n\tfiles: File[] = [];\n\n\tcancelForm: FormGroup;\n\treason = new FormControl('', Validators.required);\n\tother = new FormControl('', Validators.required);\n\n\tconstructor(\n\t\ttranslate: TranslateService,\n\t\tprivate router: Router,\n\t\tprivate route: ActivatedRoute,\n\t\tprivate fb: FormBuilder,\n\t\tprivate result: ResultService,\n\t\tprivate dealService: DealsService,\n\t\tprivate loading: LoaderService,\n\t\tprivate afAuth: AngularFireAuth\n\t) {\n\t\tthis.id = this.route.snapshot.paramMap.get('id'); //get id parameter\n\t\ttranslate.addLangs(['en', 'kr']);\n\n\t\t// this language will be used as a fallback when a translation isn't found in the current language\n\t\ttranslate.setDefaultLang('kr');\n\n\t\t// the lang to use, if the lang isn't available, it will use the current loader to get them\n\t\ttranslate.use('kr');\n\n\t\tthis.cancelForm = this.fb.group({\n\t\t\tresult: 'Cancel',\n\t\t\treason: this.reason,\n\t\t\tother: this.other,\n\t\t\tcancelDate: this.date,\n\t\t\tdealerId: this.userId,\n\t\t\trequestId: this.id,\n\t\t});\n\n\t\tthis.afAuth.authState.subscribe((authState) => {\n\t\t\tthis.authState = authState;\n\t\t\tif (this.authState) {\n\t\t\t\tthis.userId = this.authState.uid;\n\t\t\t}\n\t\t});\n\t}\n\n\tngOnInit() {}\n\n\tasync submitCancel() {\n\t\tthis.loading.showLoader();\n\t\tawait this.result.createResult(this.cancelForm.value);\n\t\tawait this.dealService.updateDeal(this.id, {\n\t\t\tvisitDate: null,\n\t\t\tparticipants: { created: false },\n\t\t\tstatus: 6,\n\t\t});\n\t\tawait this.dealService\n\t\t\t.getParticipantById(this.id, this.userId)\n\t\t\t.subscribe((val) => {\n\t\t\t\tval.forEach((part) => {\n\t\t\t\t\tthis.dealService.deleteParticipant(this.id, part.payload.doc.id);\n\t\t\t\t});\n\t\t\t});\n\t\tawait this.dealService.updateDealInDealer(this.id, { status: 'Cancel' });\n\t\tthis.loading.hideLoader();\n\t\tawait this.router.navigate(['/', 'home', 'deal']);\n\t}\n\n\tonSelect(event) {\n\t\tconsole.log(event);\n\t\tthis.files.push(...event.addedFiles);\n\t}\n\n\tonRemove(event) {\n\t\tconsole.log(event);\n\t\tthis.files.splice(this.files.indexOf(event), 1);\n\t}\n\n\tlocaleDate(time: number) {\n\t\tconst myDate = new Date(time * 1000);\n\t\treturn myDate.toLocaleString();\n\t}\n}\n"],"sourceRoot":"webpack:///"}