{"version":3,"sources":["./src/app/pages/visit/revisit/revisit.page.html","./src/app/pages/visit/revisit/revisit-routing.module.ts","./src/app/pages/visit/revisit/revisit.module.ts","./src/app/pages/visit/revisit/revisit.page.scss","./src/app/pages/visit/revisit/revisit.page.ts"],"names":[],"mappings":"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","file":"pages-visit-revisit-revisit-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar>\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t<ion-back-button></ion-back-button>\\n\\t\\t</ion-buttons>\\n\\t\\t<ion-title class=\\\"smllogo\\\">\\n\\t\\t\\t<app-logo></app-logo>\\n\\t\\t</ion-title>\\n\\t\\t<ion-button slot=\\\"end\\\" fill=\\\"clear\\\" [routerLink]=\\\"['/','home','deal']\\\">\\n\\t\\t\\t<ion-icon name=\\\"log-out-outline\\\"></ion-icon>\\n\\t\\t</ion-button>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-card>\\n\\t\\t<ion-card-content>\\n\\t\\t\\t<form [formGroup]=\\\"revisitForm\\\">\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.visit_result' | translate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-input\\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\treadonly\\n\\t\\t\\t\\t\\t\\tvalue=\\\"{{'home_visit_result_revisit.visit_result' | translate}}\\\"\\n\\t\\t\\t\\t\\t></ion-input>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.revisit_reason' |\\n\\t\\t\\t\\t\\t\\ttranslate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-textarea rows=\\\"5\\\" [formControl]=\\\"reason\\\"></ion-textarea>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<div class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ngx-dropzone (change)=\\\"onSelect($event)\\\">\\n\\t\\t\\t\\t\\t\\t<ngx-dropzone-label\\n\\t\\t\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.upload_instruction' |\\n\\t\\t\\t\\t\\t\\t\\ttranslate}}</ngx-dropzone-label\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t<ngx-dropzone-image-preview\\n\\t\\t\\t\\t\\t\\t\\tngProjectAs=\\\"ngx-dropzone-preview\\\"\\n\\t\\t\\t\\t\\t\\t\\t*ngFor=\\\"let f of files\\\"\\n\\t\\t\\t\\t\\t\\t\\t[file]=\\\"f\\\"\\n\\t\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t\\t</ngx-dropzone-image-preview>\\n\\t\\t\\t\\t\\t</ngx-dropzone>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.revisit_date' | translate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-datetime\\n\\t\\t\\t\\t\\t\\tdisplayFormat=\\\"D MMM YYYY H A\\\"\\n\\t\\t\\t\\t\\t\\t[min]=\\\"now\\\"\\n\\t\\t\\t\\t\\t\\t[formControl]=\\\"date\\\"\\n\\t\\t\\t\\t\\t></ion-datetime>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-item class=\\\"form-group\\\">\\n\\t\\t\\t\\t\\t<ion-label position=\\\"floating\\\"\\n\\t\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.other' | translate}}</ion-label\\n\\t\\t\\t\\t\\t>\\n\\t\\t\\t\\t\\t<ion-textarea rows=\\\"5\\\" [formControl]=\\\"other\\\"></ion-textarea>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t<ion-button expand=\\\"block\\\" color=\\\"tertiary\\\" (click)=\\\"revisitSubmit()\\\"\\n\\t\\t\\t\\t\\t>{{'home_visit_result_revisit.confirm' | translate}}</ion-button\\n\\t\\t\\t\\t>\\n\\t\\t\\t</form>\\n\\t\\t</ion-card-content>\\n\\t</ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RevisitPage } from './revisit.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RevisitPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RevisitPageRoutingModule {}\n","import { ComponentsModule } from 'src/app/components/components.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RevisitPageRoutingModule } from './revisit-routing.module';\n\nimport { RevisitPage } from './revisit.page';\n\nimport { NgxDropzoneModule } from 'ngx-dropzone';\n\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http);\n}\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tIonicModule,\n\t\tRevisitPageRoutingModule,\n\t\tComponentsModule,\n\t\tNgxDropzoneModule,\n\t\tTranslateModule.forRoot({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t\tHttpClientModule,\n\t\tReactiveFormsModule,\n\t],\n\tdeclarations: [RevisitPage],\n})\nexport class RevisitPageModule {}\n","export default \".smllogo__img {\\n  height: 2.6rem;\\n}\\n\\ntextarea {\\n  height: 100px !important;\\n}\\n\\n.breadcrumb-item a {\\n  color: #3f80ff;\\n}\\n\\n.page-header {\\n  margin-top: 0.7rem;\\n}\\n\\n.mylabel {\\n  font-family: \\\"Noto Sans KR\\\";\\n  font-size: 14px;\\n}\\n\\n.mytimepicker {\\n  font-size: 14px;\\n}\\n\\nion-item {\\n  --inner-padding-end: 0px;\\n  --padding-start: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdmlzaXQvcmV2aXNpdC9yZXZpc2l0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQztFQUNDLGNBQUE7QUFBRjs7QUFJQTtFQUNJLHdCQUFBO0FBREo7O0FBSUE7RUFDQyxjQUFBO0FBREQ7O0FBSUE7RUFDQyxrQkFBQTtBQUREOztBQUlBO0VBQ0MsMkJBQUE7RUFDQSxlQUFBO0FBREQ7O0FBSUE7RUFDQyxlQUFBO0FBREQ7O0FBSUE7RUFDQyx3QkFBQTtFQUNBLG9CQUFBO0FBREQiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy92aXNpdC9yZXZpc2l0L3JldmlzaXQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNtbGxvZ28ge1xuXHQmX19pbWcge1xuXHRcdGhlaWdodDogMi42cmVtO1xuXHR9XG59XG5cbnRleHRhcmVhIHtcbiAgICBoZWlnaHQ6IDEwMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5icmVhZGNydW1iLWl0ZW0gYSB7XG5cdGNvbG9yOiAjM2Y4MGZmO1xufVxuXG4ucGFnZS1oZWFkZXIge1xuXHRtYXJnaW4tdG9wOiAwLjdyZW07XG59XG5cbi5teWxhYmVsIHtcblx0Zm9udC1mYW1pbHk6ICdOb3RvIFNhbnMgS1InO1xuXHRmb250LXNpemU6IDE0cHg7XG59XG5cbi5teXRpbWVwaWNrZXIge1xuXHRmb250LXNpemU6IDE0cHg7XG59XG5cbmlvbi1pdGVtIHtcblx0LS1pbm5lci1wYWRkaW5nLWVuZDogMHB4O1xuXHQtLXBhZGRpbmctc3RhcnQ6IDBweDtcbn1cblxuIl19 */\";","import { DealsService } from 'src/app/services/deals.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoaderService } from './../../../services/loader.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { ResultService } from './../../../services/result.service';\nimport { FormControl, FormGroup, FormBuilder } from '@angular/forms';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n\tselector: 'app-revisit',\n\ttemplateUrl: './revisit.page.html',\n\tstyleUrls: ['./revisit.page.scss'],\n})\nexport class RevisitPage implements OnInit {\n\tid: string;\n\tnow: string = new Date().toISOString();\n\tselectDate: Date;\n\n\tfiles: File[] = [];\n\n\trevisitForm: FormGroup;\n\treason = new FormControl('');\n\tother = new FormControl('');\n\tdate = new FormControl('');\n\n\tconstructor(\n\t\ttranslate: TranslateService,\n\t\tprivate result: ResultService,\n\t\tprivate fb: FormBuilder,\n\t\tprivate loading: LoaderService,\n\t\tprivate afAuth: AngularFireAuth,\n\t\tpublic route: ActivatedRoute,\n\t\tpublic router: Router,\n\t\tprivate dealService: DealsService\n\t) {\n\t\tthis.id = this.route.snapshot.paramMap.get('id'); //get id parameter\n\n\t\ttranslate.addLangs(['en', 'kr']);\n\n\t\t// this language will be used as a fallback when a translation isn't found in the current language\n\t\ttranslate.setDefaultLang('kr');\n\n\t\t// the lang to use, if the lang isn't available, it will use the current loader to get them\n\t\ttranslate.use('kr');\n\n\t\tthis.revisitForm = this.fb.group({\n\t\t\tresult: 'Revisit',\n\t\t\treason: this.reason,\n\t\t\tother: this.other,\n\t\t\trequestId: this.id,\n\t\t\tdate: this.date,\n\t\t});\n\t}\n\n\tngOnInit() {}\n\n\tonSelect(event) {\n\t\tconsole.log(event);\n\t\tthis.files.push(...event.addedFiles);\n\t}\n\n\tonRemove(event) {\n\t\tconsole.log(event);\n\t\tthis.files.splice(this.files.indexOf(event), 1);\n\t}\n\n\tasync revisitSubmit() {\n\t\tconst { date } = this.revisitForm.value;\n\t\tlet time = new Date(date);\n\t\ttime.setMinutes(0);\n\t\ttime.setSeconds(0);\n\t\tlet unix = Math.floor(time.getTime() / 1000.0);\n\t\tthis.revisitForm.patchValue({\n\t\t\tdate: unix,\n\t\t});\n\t\tawait this.dealService.updateDeal(this.id, { visitDate: unix });\n\t\tawait this.result.createResult(this.revisitForm.value);\n\t\tawait this.router.navigate(['/', 'home', 'ongoing']);\n\t}\n\n\tlocaleDate(time: number) {\n\t\tconst myDate = new Date(time * 1000);\n\t\treturn myDate.toLocaleString();\n\t}\n}\n"],"sourceRoot":"webpack:///"}